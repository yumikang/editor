# CodeB WebCraft Studio - 전체 사이트맵

## 🏠 메인 구조 (URL 기준)

```
CodeB WebCraft Studio (localhost:5173)
│
├── 🏡 / (홈페이지)
│   ├── 랜딩 페이지
│   ├── 템플릿 갤러리 미리보기
│   └── 시작하기 버튼 → /templates
│
├── 📚 /templates (템플릿 선택)
│   ├── 템플릿 목록 (카드 뷰)
│   ├── 템플릿 미리보기
│   ├── 템플릿 상세 정보
│   └── "편집 시작" → /editor/{theme-id}
│
├── ⚡ /editor/{theme-id} (메인 에디터)
│   ├── 헤더 (파일, 편집, 보기, AI, 내보내기)
│   ├── 3탭 사이드바
│   │   ├── 📝 콘텐츠 편집
│   │   ├── 🎨 디자인 편집 (컬러/CSS)
│   │   └── 🕒 버전 관리
│   ├── 중앙 편집 영역
│   └── 실시간 미리보기 (375px/1920px)
│
├── 🔧 /api/* (API 엔드포인트)
│   ├── /api/templates/*
│   ├── /api/editor/*
│   ├── /api/version/*
│   ├── /api/style/* (새로 추가)
│   ├── /api/media/*
│   └── /api/ai/*
│
└── 📤 /export (내보내기 완료 페이지)
    ├── 다운로드 링크
    ├── 미리보기
    └── 새 프로젝트 시작
```

---

## 🏗️ 에디터 내부 구조 상세

### 메인 에디터 (`/editor/{theme-id}`) - 기능별 최적화 레이아웃

#### 📝 콘텐츠 편집 모드
```
┌─────────────────────────────────────────────────────────────────────────┐
│  🏠 CodeB Studio  │  📁 파일  │  ✏️ 편집  │  👁️ 보기  │  🤖 AI  │  📤 내보내기  │
├─────────────────┬─────────────────────────────┬─────────────────────────┤
│   📋 사이드바    │        ✏️ 텍스트 편집        │     👁️ 미리보기          │
│   (280px)       │        (flex-1)             │     (600px)             │
│                 │                             │                         │
│ [📝][🎨][🕒]    │ ┌─────────────────────────┐ │  ┌─[📱][💻]─────────┐  │
│                 │ │                         │ │  │                 │  │
│ ┌─────────────┐ │ │    리치 텍스트 에디터    │ │  │   Live Preview  │  │
│ │ 📍 섹션목록  │ │ │                         │ │  │                 │  │
│ │ • Header    │ │ │   [제목 편집 영역]       │ │  │   텍스트 변경    │  │
│ │ • Hero      │ │ │   [본문 편집 영역]       │ │  │   즉시 반영      │  │
│ │ • About     │ │ │                         │ │  │                 │  │
│ │ • Services  │ │ │   🤖 AI 텍스트 생성      │ │  │                 │  │
│ │ • Footer    │ │ │                         │ │  │                 │  │
│ └─────────────┘ │ └─────────────────────────┘ │  └─────────────────┘  │
└─────────────────┴─────────────────────────────┴─────────────────────────┘
```

#### 🎨 컬러 편집 모드 (최적화 레이아웃)
```
┌─────────────────────────────────────────────────────────────────────────┐
│  🏠 CodeB Studio  │  📁 파일  │  ✏️ 편집  │  👁️ 보기  │  🤖 AI  │  📤 내보내기  │
├─────────────────┬─────────────────────────────┬─────────────────────────┤
│   📋 사이드바    │        👁️ 실시간 미리보기    │     🧩 컴포넌트 매핑     │
│   (280px)       │        (flex-1)             │     (320px)             │
│                 │                             │                         │
│ [📝][🎨][🕒]    │ ┌─[📱][💻]─────────────────┐ │  ┌─────────────────────┐ │
│                 │ │                         │ │  │   드래그앤드롭 영역   │ │
│ ┌─────────────┐ │ │     Live Preview        │ │  │                     │ │
│ │ 💾 프리셋    │ │ │                         │ │  │ 📋 Header          │ │
│ │ 🎨 브랜드컬러 │ │ │   컬러 변경사항         │ │  │ ├─ primary          │ │
│ │ ⚡ 기능컬러   │ │ │   즉시 반영             │ │  │ └─ text-primary     │ │
│ │ 📝 중성컬러   │ │ │                         │ │  │                     │ │
│ │ 🖱️ 상호작용  │◄──┤ ← 드래그 거리 최소화     │ │  │ 🔘 Navigation      │ │
│ │             │ │ │                         │ │  │ 🔘 Button          │ │
│ └─────────────┘ │ └─────────────────────────┘ │  └─────────────────────┘ │
└─────────────────┴─────────────────────────────┴─────────────────────────┘
```

#### 🕒 버전 관리 모드
```
┌─────────────────────────────────────────────────────────────────────────┐
│  🏠 CodeB Studio  │  📁 파일  │  ✏️ 편집  │  👁️ 보기  │  🤖 AI  │  📤 내보내기  │
├─────────────────┬─────────────────────────────┬─────────────────────────┤
│   📋 사이드바    │        📊 버전 비교/관리      │     👁️ 미리보기          │
│   (280px)       │        (flex-1)             │     (600px)             │
│                 │                             │                         │
│ [📝][🎨][🕒]    │ ┌─────────────────────────┐ │  ┌─[현재][선택버전]───┐  │
│                 │ │                         │ │  │                 │  │
│ ┌─────────────┐ │ │     버전 비교 뷰         │ │  │   선택된 버전    │  │
│ │ 📊 현재상태  │ │ │                         │ │  │   미리보기       │  │
│ │ 💾 저장     │ │ │   변경사항 하이라이트    │ │  │                 │  │
│ │ 📋 히스토리  │ │ │                         │ │  │   vs            │  │
│ │ • v0.0.3    │ │ │   🔄 복원 버튼          │ │  │                 │  │
│ │ • v0.0.2    │ │ │   🗑️ 삭제 버튼          │ │  │   현재 버전      │  │
│ │ • v0.0.1    │ │ │                         │ │  │                 │  │
│ └─────────────┘ │ └─────────────────────────┘ │  └─────────────────┘  │
└─────────────────┴─────────────────────────────┴─────────────────────────┘
```

---

## 📁 사이드바 탭 구조

### 📝 콘텐츠 편집 탭
```
📝 콘텐츠 편집
├── 📍 섹션 네비게이션
│   ├── Header
│   ├── Hero Section  
│   ├── About
│   ├── Services
│   └── Footer
├── ✏️ 텍스트 편집기
│   ├── 제목/본문 구분
│   ├── 리치 텍스트 도구
│   └── 실시간 동기화
└── 🤖 AI 프롬프트 도우미
    ├── 브랜드 컨텍스트 설정
    │   ├── 회사명, 업종, 타겟
    │   ├── 브랜드 톤앤매너
    │   └── 주요 키워드
    ├── 프롬프트 생성 도구
    │   ├── ChatGPT용 텍스트 프롬프트
    │   ├── Midjourney용 이미지 프롬프트
    │   ├── Claude용 카피라이팅 프롬프트
    │   └── 맞춤형 프롬프트 조합
    ├── 프롬프트 템플릿
    │   ├── "회사 소개글 작성"
    │   ├── "제품 설명 작성"
    │   ├── "마케팅 카피 작성"
    │   ├── "SEO 메타 설명"
    │   └── "소셜 미디어 포스트"
    └── 프롬프트 관리
        ├── 생성된 프롬프트 클립보드 복사
        ├── 프롬프트 히스토리 저장
        ├── 즐겨찾기 프롬프트
        └── 프롬프트 수정 및 재사용
```

### 🎨 디자인 편집 탭 ⭐ (새로 추가)
```
🎨 디자인 편집
├── 🎨 컬러 시스템
│   ├── 💾 프리셋 관리
│   │   ├── 저장된 프리셋 목록
│   │   ├── 새 프리셋 저장
│   │   └── 프리셋 삭제
│   ├── 🎯 브랜드 컬러
│   │   ├── Primary (사용자 설정)
│   │   ├── Secondary (자동 생성)
│   │   └── 팔레트 제안 (4가지)
│   ├── ⚡ 기능 컬러 (자동 생성)
│   │   ├── Success, Warning
│   │   ├── Error, Info
│   │   └── 드래그 가능한 컬러칩
│   ├── 📝 중성 컬러
│   │   ├── Text Primary/Secondary
│   │   ├── Background, Surface
│   │   └── Border
│   └── 🖱️ 상호작용 컬러 (자동 계산)
│       ├── Hover, Active
│       ├── Focus, Disabled
│       └── 알고리즘 설명
├── 💻 CSS 편집 (기존 Phase 3 계획)
│   ├── 🎨 비주얼 모드
│   │   ├── 색상 피커
│   │   ├── 간격 슬라이더
│   │   └── 폰트 설정
│   └── 💾 코드 모드
│       ├── Monaco Editor
│       ├── CSS 자동완성
│       └── 문법 하이라이팅
└── 📱 반응형 설정
    ├── 브레이크포인트 관리
    ├── 디바이스별 스타일
    └── 미디어 쿼리 편집
```

### 🕒 버전 관리 탭 ✅ (완료)
```
🕒 버전 관리
├── 📊 현재 상태
│   ├── 저장되지 않은 변경사항
│   ├── 마지막 저장 시간
│   └── 현재 버전 정보
├── 💾 버전 저장
│   ├── 설명 입력 다이얼로그
│   ├── 변경사항 요약
│   └── 저장 버튼
├── 📋 버전 히스토리
│   ├── 버전 목록 (시간순)
│   ├── 변경사항 개수 표시
│   └── 버전별 설명
├── 🔄 복원 기능
│   ├── 특정 버전으로 복원
│   ├── 원본으로 리셋
│   └── 확인 다이얼로그
└── 🗑️ 관리 기능
    ├── 버전 삭제
    ├── 버전 비교
    └── 체크섬 검증
```

---

## 🔄 데이터 플로우

### 1. 초기 진입 플로우
```
1. 홈페이지 (/) 
   ↓ 
2. 템플릿 선택 (/templates)
   ↓ 
3. 에디터 진입 (/editor/{theme-id})
   ↓
4. 자동 초기화
   ├── 폴더 구조 생성 (original/working/versions)
   ├── 템플릿 분석 (텍스트/이미지/CSS 요소)
   └── 편집 준비 완료
```

### 2. 편집 플로우
```
편집 작업
├── 📝 콘텐츠 편집
│   ├── 텍스트 수정 → working/ 폴더 저장 (500ms 디바운싱)
│   └── AI 생성 → 검토 후 적용
├── 🎨 디자인 편집  
│   ├── 컬러 토큰 변경 → CSS 변수 업데이트 → 즉시 반영
│   ├── 프리셋 적용 → 모든 컬러 일괄 변경
│   └── 드래그앤드롭 → 컴포넌트별 컬러 재매핑
└── 실시간 미리보기
    ├── 375px (모바일)
    ├── 1920px (데스크톱)
    └── 인터랙션 시뮬레이션 (hover/focus)
```

### 3. 저장/버전 관리 플로우
```
자동 저장 (working/)
├── 500ms 디바운싱
├── 변경사항 감지
└── 백그라운드 저장

수동 버전 저장
├── "버전 저장" 클릭
├── 설명 입력 다이얼로그
├── versions/v0.0.X/ 스냅샷 생성
└── 히스토리에 추가

버전 복원
├── 버전 선택
├── 확인 다이얼로그
├── working/ ← versions/v0.0.X/ 복사
└── 페이지 새로고침
```

---

## 🗂️ 폴더 구조 (서버)

```
app/
├── data/
│   └── themes/
│       └── {theme-id}/
│           ├── original/     # 원본 백업 (읽기 전용)
│           │   ├── index.html
│           │   ├── styles.css
│           │   └── assets/
│           ├── working/      # 현재 작업 파일
│           │   ├── index.html
│           │   ├── styles.css
│           │   ├── data.json  # 텍스트 + 컬러토큰 데이터
│           │   └── assets/
│           └── versions/     # 버전 히스토리
│               ├── version-history.json
│               ├── v0.0.1/
│               └── v0.0.2/
├── routes/
│   ├── _index.tsx           # 홈페이지
│   ├── templates.tsx        # 템플릿 목록
│   ├── editor.tsx          # 메인 에디터 ⭐
│   ├── export.tsx          # 내보내기 완료
│   └── api/                # API 엔드포인트
│       ├── templates/
│       ├── editor/
│       ├── version/        # ✅ 완료
│       ├── style/          # ⭐ 새로 추가 (컬러 시스템)
│       ├── media/
│       └── ai/
└── components/
    ├── editor/
    │   ├── ContentEditor/   # 📝 콘텐츠 편집
    │   ├── DesignEditor/    # 🎨 디자인 편집 (새로 추가)
    │   │   ├── ColorSystemPanel/  # 컬러 토큰 관리
    │   │   ├── CSSEditor/         # CSS 편집
    │   │   └── ResponsiveControls/ # 반응형 설정
    │   ├── VersionControl/  # 🕒 버전 관리 ✅
    │   └── PreviewArea/     # 미리보기
    ├── templates/
    └── ui/
```

---

## 🎯 개발 단계별 완성도

```
✅ Phase 1: 기본 에디터 (완료)
   ├── 텍스트 편집 기능
   ├── 실시간 미리보기
   └── 타임스탬프 저장

✅ Phase 2: 버전 관리 (완료)
   ├── 원본/작업/버전 폴더 분리
   ├── 버전 생성/복원/삭제
   ├── UI 컴포넌트 완성
   └── API 엔드포인트 6개

🟡 Phase 2.5: 컬러 시스템 (진행 예정)
   ├── 컬러 토큰 데이터 모델
   ├── 프리셋 시스템
   ├── 드래그앤드롭 매핑
   └── 디자인 탭 UI

⏳ Phase 3: CSS 편집 (예정)
   ├── Monaco Editor 통합
   ├── 비주얼 스타일 편집
   └── 반응형 편집

⏳ Phase 4: 미디어 편집 (예정)
   ├── 이미지 업로드/최적화
   │   ├── 콘텐츠 이미지 (사진, 일러스트)
   │   ├── 로고 파일 (SVG, PNG 지원)
   │   └── 파비콘 (ICO, PNG 자동 변환)
   ├── 기본 영상 처리
   │   ├── 배경 영상
   │   └── 제품 소개 영상
   └── 브랜드 에셋 관리
       ├── 로고 버전별 관리 (컬러/흑백/심볼)
       ├── 파비콘 자동 생성 (16x16~512x512)
       └── 소셜 미디어 이미지 (OG 태그용)

⏳ Phase 5: AI 프롬프트 도우미 (예정)
   ├── 브랜드 컨텍스트 기반 프롬프트 생성
   │   ├── ChatGPT용 텍스트 프롬프트
   │   ├── Midjourney용 이미지 프롬프트  
   │   └── Claude용 카피라이팅 프롬프트
   ├── 프롬프트 템플릿 라이브러리
   │   ├── "회사 소개글 작성"
   │   ├── "제품 설명 문구"
   │   ├── "마케팅 카피"
   │   └── "SEO 메타 설명"
   └── 생성된 프롬프트 관리
       ├── 클립보드 복사
       ├── 프롬프트 히스토리
       └── 즐겨찾기 프롬프트
```

---

## 💡 핵심 아이디어

1. **단일 에디터**: 모든 편집 기능이 `/editor/{theme-id}` 한 곳에 집중
2. **탭 기반 UI**: 콘텐츠/디자인/버전 기능을 탭으로 깔끔하게 분리
3. **실시간 동기화**: 모든 변경사항이 즉시 미리보기에 반영
4. **안전한 실험**: 언제든 이전 버전으로 돌아갈 수 있는 버전 관리
5. **템플릿 독립성**: 어떤 템플릿이든 동일한 편집 경험 제공
